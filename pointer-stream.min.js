!function n(e,t,r){function u(i,s){if(!t[i]){if(!e[i]){var a="function"==typeof require&&require;if(!s&&a)return a(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[i]={exports:{}};e[i][0].call(f.exports,function(n){var t=e[i][1][n];return u(t?t:n)},f,f.exports,n,e,t,r)}return t[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)u(r[i]);return u}({1:[function(n,e,t){(function(t){function r(n,e,t){var r=[e.pageX,t.pageX].sort(h).map(function(e){return e-n.settings.offset().x}),u=[e.pageY,t.pageY].sort(h).map(function(e){return e-n.settings.offset().y}),i=r[1]-r[0],s=u[1]-u[0],a=Math.hypot(i,s);if(1==n.pinching())n.touchRadius(a);else{var c={x:r[1]-i/2,y:u[1]-s/2},f=n.initialPinchScale()*a/n.touchRadius();o(n,c,f)}}function u(n,e){if(Math.abs(e.wheelDeltaX)<.1){n.wheeling(!0);var t={x:e.pageX-n.settings.offset().x,y:e.pageY-n.settings.offset().y},r=.01+.1*n.scale(),u=n.scale()+(e.wheelDeltaY>0?+r:-r);o(n,t,u),n.initialPinchScale(n.scale()),n.wheeling(!1)}}function o(n,e,t){var r={current:n.scale(),next:v(n.settings.scale.min,n.settings.scale.max,t)},u={w:window.innerWidth-n.settings.offset().x,h:window.innerHeight-n.settings.offset().y},o={current:{x:n.coords().x,y:n.coords().y,w:u.w/r.current,h:u.h/r.current},next:{x:n.coords().x,y:n.coords().y,w:u.w/r.next,h:u.h/r.next}},i={current:{x:(e.x-o.current.x)/o.current.w,y:(e.y-o.current.y)/o.current.h},next:{x:(e.x-o.next.x)/o.next.w,y:(e.y-o.next.y)/o.next.h}},s={x:(i.next.x-i.current.x)*o.current.w*-1,y:(i.next.y-i.current.y)*o.current.h*-1};n.movement(s),n.move(e),n.scale(r.next)}function i(n){n.mousedown(n.mousedown()+1)}function s(n,e){n.mousedown(0),n.dragging(!1),e.touches&&e.touches.length&&(n.pinching(0),n.initialPinchScale(n.scale()))}function a(n,e){var t=e.touches||[],u=t[0]||e;if(t.length>1)n.pinching(n.pinching()+1),r(n,e.touches[0],e.touches[1]);else if(!n.pinching()){var o=u.pageX-n.settings.offset().x,i=u.pageY-n.settings.offset().y;if(n.mousedown()>1){n.dragging(n.mousedown());var s={x:o-n.move().x,y:i-n.move().y};n.movement(s)}n.move({x:o,y:i})}n.mousedown(n.mousedown()+(n.mousedown()>0?1:0)),e.preventDefault()}function c(n,e,t){var r=y();return n.addEventListener(e,r),w(function(){n.removeEventListener(e,r)},r.end),_(t,r)}function f(n){n=n||P,n.offset=n.offset||P.offset,n.scale=n.scale||P.scale,n.manualActivation=n.manualActivation||!1,n.container=n.container||p(window),n.coords=n.coords||P.coords,n.ignoreElements=n.ignoreElements||{};var e=n.offset.x,t=n.offset.y,r=n.scale.min,o=n.scale.max,f=y(),l=y({x:e,y:t}),h=y(0),m=y(M),w=y(M),_=y(!1),b=y(0),O=y(0),E=y(1),N=y(1),q=y(1),A=function(){return[_,b,O].some(function(n){return n()})},S=x(function(e,t){return A()?{x:v(n.coords.min.x,n.coords.max.x,e.x+t.x),y:v(n.coords.min.y,n.coords.max.y,e.y+t.y)}:e},M,m),U=d({settings:{scale:{min:r,max:o},offset:l,coords:n.coords},activateListeners:function(){[,[i,"mousedown"],[s,"mouseup"],[s,"mouseleave"],[a,"mousemove"],[s,"touchend"],[i,"touchstart"],[a,"touchmove"]].concat(n.disable_mousewheel?[]:[[u,"mousewheel"]]).map(function(e){var t=e[0],r=e[1],u=n.container();return c(u,r,f).map(function(e){return n.ignoreElements[e.srcElement.tagName]?void 0:(console.log("calling handler"),t(U,e))})})}},g(C(f),{mousedown:h,movement:m,move:w,dragging:_,pinching:b,wheeling:O,scale:E,initialPinchScale:N,touchRadius:q,coords:S,end:f}));return n.manualActivation||U.activateListeners(),U}var l=function(n){return function(e,t){return[].concat(Object.keys(e),Object.keys(t)).reduce(function(r,u){return r[u]=r[u]||n(e[u],t[u]),r},{})}},d=l(function(n,e){return e||n}),h=function(n,e){return n-e},p=function(n){return function(){return n}},g=function(n,e){return Object.keys(e).reduce(function(t,r){return t[r]=n(e[r]),t},{})},v=function(n,e,t){return Math.max(Math.min(t,e),n)},m=n("flyd"),y=m.stream,x=m.scan,w=m.on,_=m.endsOn,C=m.curryN(2,_),M={x:0,y:0},P={offset:{x:0,y:0},scale:{min:.5,max:40},coords:{min:{x:-(1/0),y:-(1/0)},max:{x:1/0,y:1/0}}};t.PointerStream=f,e.exports=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{flyd:2}],2:[function(n,e,t){"use strict";function r(n){return!!(n&&n.constructor&&n.call&&n.apply)}function u(){return!0}function o(n,e){var t,r,o,i,s=f([],u);for(o=[],i=[],t=0;t<e.length;++t)void 0!==e[t]&&(o.push(e[t]),void 0!==e[t].end&&i.push(e[t].end));return r=f(o,n),r.depsChanged=[],r.fnArgs=r.deps.concat([r,r.depsChanged]),r.end=s,s.listeners.push(r),y(i,s),s.deps=i,d(r),r}function i(n){return q.map(n,this)}function s(n){var e=this;return o(function(n,e,t){t(n.val(e.val))},[e,n])}function a(){return"stream("+this.val+")"}function c(){function n(e){return 0===arguments.length?n.val:(v(n,e),n)}return n.hasVal=!1,n.val=void 0,n.vals=[],n.listeners=[],n.queued=!1,n.end=void 0,n.map=i,n.ap=s,n.of=q.stream,n.toString=a,n}function f(n,e){var t=c();return t.fn=e,t.deps=n,t.depsMet=!1,t.depsChanged=n.length>0?[]:void 0,t.shouldUpdate=!1,y(n,t),t}function l(n){return n.depsMet=n.deps.every(function(n){return n.hasVal}),!n.depsMet}function d(n){if(!(n.depsMet!==!0&&l(n)||void 0!==n.end&&n.end.val===!0)){if(void 0!==M)return void b.push(n);M=n,n.depsChanged&&(n.fnArgs[n.fnArgs.length-1]=n.depsChanged);var e=n.fn.apply(n.fn,n.fnArgs);void 0!==e&&n(e),M=void 0,void 0!==n.depsChanged&&(n.depsChanged=[]),n.shouldUpdate=!1,N===!1&&g()}}function h(n){var e,t,r,u=n.listeners;for(e=0;e<u.length;++e)r=u[e],r.end===n?_(r):(void 0!==r.depsChanged&&r.depsChanged.push(n),r.shouldUpdate=!0,p(r));for(;E>=0;--E)t=O[E],t.shouldUpdate===!0&&d(t),t.queued=!1}function p(n){var e,t=n.listeners;if(n.queued===!1){for(n.queued=!0,e=0;e<t.length;++e)p(t[e]);O[++E]=n}}function g(){for(N=!0;b.length>0;){var n=b.shift();n.vals.length>0&&(n.val=n.vals.shift()),h(n)}N=!1}function v(n,e){return void 0!==e&&null!==e&&r(e.then)?void e.then(n):(n.val=e,n.hasVal=!0,void(void 0===M?(N=!0,h(n),b.length>0?g():N=!1):M===n?m(n,n.listeners):(n.vals.push(e),b.push(n))))}function m(n,e){var t,r;for(t=0;t<e.length;++t)r=e[t],r.end!==n?(void 0!==r.depsChanged&&r.depsChanged.push(n),r.shouldUpdate=!0):_(r)}function y(n,e){for(var t=0;t<n.length;++t)n[t].listeners.push(e)}function x(n,e){var t=e.indexOf(n);e[t]=e[e.length-1],e.length--}function w(n){for(var e=0;e<n.deps.length;++e)x(n,n.deps[e].listeners);n.deps.length=0}function _(n){void 0!==n.deps&&w(n),void 0!==n.end&&w(n.end)}function C(){}var M,P=n("ramda/src/curryN"),b=[],O=[],E=-1,N=!1,q={};q.stream=function(n){var e=f([],u),t=c();return t.end=e,t.fnArgs=[],e.listeners.push(t),arguments.length>0&&t(n),t},q.combine=P(2,o),q.isStream=function(n){return r(n)&&"hasVal"in n},q.immediate=function(n){return n.depsMet===!1&&(n.depsMet=!0,d(n)),n},q.endsOn=function(n,e){return w(e.end),n.listeners.push(e.end),e.end.deps.push(n),e},q.map=P(2,function(n,e){return o(function(e,t){t(n(e.val))},[e])}),q.on=P(2,function(n,e){return o(function(e){n(e.val)},[e])}),q.scan=P(3,function(n,e,t){var r=o(function(t,r){r(e=n(e,t.val))},[t]);return r.hasVal||r(e),r}),q.merge=P(2,function(n,e){var t=q.immediate(o(function(n,e,t,r){r[0]?t(r[0]()):n.hasVal?t(n.val):e.hasVal&&t(e.val)},[n,e]));return q.endsOn(o(function(){return!0},[n.end,e.end]),t),t}),q.transduce=P(2,function(n,e){return n=n(new C),o(function(e,t){var r=n["@@transducer/step"](void 0,e.val);return r&&r["@@transducer/reduced"]===!0?(t.end(!0),r["@@transducer/value"]):r},[e])}),q.curryN=P,C.prototype["@@transducer/init"]=function(){},C.prototype["@@transducer/result"]=function(){},C.prototype["@@transducer/step"]=function(n,e){return e},e.exports=q},{"ramda/src/curryN":3}],3:[function(n,e,t){var r=n("./internal/_arity"),u=n("./internal/_curry1"),o=n("./internal/_curry2"),i=n("./internal/_curryN");e.exports=o(function(n,e){return 1===n?u(e):r(n,i(n,[],e))})},{"./internal/_arity":4,"./internal/_curry1":5,"./internal/_curry2":6,"./internal/_curryN":7}],4:[function(n,e,t){e.exports=function(n,e){switch(n){case 0:return function(){return e.apply(this,arguments)};case 1:return function(n){return e.apply(this,arguments)};case 2:return function(n,t){return e.apply(this,arguments)};case 3:return function(n,t,r){return e.apply(this,arguments)};case 4:return function(n,t,r,u){return e.apply(this,arguments)};case 5:return function(n,t,r,u,o){return e.apply(this,arguments)};case 6:return function(n,t,r,u,o,i){return e.apply(this,arguments)};case 7:return function(n,t,r,u,o,i,s){return e.apply(this,arguments)};case 8:return function(n,t,r,u,o,i,s,a){return e.apply(this,arguments)};case 9:return function(n,t,r,u,o,i,s,a,c){return e.apply(this,arguments)};case 10:return function(n,t,r,u,o,i,s,a,c,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},{}],5:[function(n,e,t){var r=n("./_isPlaceholder");e.exports=function(n){return function e(t){return 0===arguments.length||r(t)?e:n.apply(this,arguments)}}},{"./_isPlaceholder":8}],6:[function(n,e,t){var r=n("./_curry1"),u=n("./_isPlaceholder");e.exports=function(n){return function e(t,o){switch(arguments.length){case 0:return e;case 1:return u(t)?e:r(function(e){return n(t,e)});default:return u(t)&&u(o)?e:u(t)?r(function(e){return n(e,o)}):u(o)?r(function(e){return n(t,e)}):n(t,o)}}}},{"./_curry1":5,"./_isPlaceholder":8}],7:[function(n,e,t){var r=n("./_arity"),u=n("./_isPlaceholder");e.exports=function o(n,e,t){return function(){for(var i=[],s=0,a=n,c=0;c<e.length||s<arguments.length;){var f;c<e.length&&(!u(e[c])||s>=arguments.length)?f=e[c]:(f=arguments[s],s+=1),i[c]=f,u(f)||(a-=1),c+=1}return 0>=a?t.apply(this,i):r(a,o(n,i,t))}}},{"./_arity":4,"./_isPlaceholder":8}],8:[function(n,e,t){e.exports=function(n){return null!=n&&"object"==typeof n&&n["@@functional/placeholder"]===!0}},{}]},{},[1]);
